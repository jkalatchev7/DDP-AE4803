function [A,B] = state_control_q2(x1,u)

theta1 = x1(3,1);
theta2 = x1(4,1);
A = [0, 1, 0, 0;
     0, 0, - ((981*sin(theta1)^2)/2000 - (cos(theta1)*(theta2^2 + (981*cos(theta1))/100))/20)/(sin(theta1)^2/20 + 1) - (cos(theta1)*sin(theta1)*(u + (sin(theta1)*(theta2^2 + (981*cos(theta1))/100))/20))/(10*(sin(theta1)^2/20 + 1)^2), (x1(4,1)*sin(x1(3,1)))/(10*(sin(x1(3,1))^2/20 + 1));
     0 , 0, 0, 1;
     0, 0, (cos(x1(3,1))*sin(x1(3,1))*((cos(x1(3,1))*sin(x1(3,1))*x1(4,1)^2)/20 + (20601*sin(x1(3,1)))/2000 + u*cos(x1(3,1))))/(10*(sin(x1(3,1))^2/20 + 1)^2) - ((20601*cos(x1(3,1)))/2000 + (x1(4,1)^2*cos(x1(3,1))^2)/20 - (x1(4,1)^2*sin(x1(3,1))^2)/20 - u*sin(x1(3,1)))/(sin(x1(3,1))^2/20 + 1), -(x1(4,1)*cos(x1(3,1))*sin(x1(3,1)))/(10*(sin(x1(3,1))^2/20 + 1))];

B = [0;
    1/(0.05 * sin(theta1)^2 + 1);
    0;
    -cos(theta1)/((0.05 * sin(theta1)^2) + 1);
    ];
    

end